<script lang="tsx">
import { defineComponent, reactive, ref } from 'vue'

export default defineComponent({
  setup() {
    const shanghai = [
      [
        [
          [121.7789, 31.3102],
          [121.7279, 31.3548],
          [121.5723, 31.4361],
          [121.5093, 31.4898],
          [121.5624, 31.4864],
          [121.5856, 31.4547],
          [121.7694, 31.3907],
          [121.796, 31.3456],
          [121.7789, 31.3102],
        ],
      ],
      [
        [
          [121.627, 31.445],
          [121.5942, 31.4586],
          [121.5758, 31.4782],
          [121.6137, 31.4713],
          [121.635, 31.453],
          [121.627, 31.445],
        ],
      ],
      [
        [
          [121.8018, 31.357],
          [121.7939, 31.3805],
          [121.8759, 31.3642],
          [121.8882, 31.3227],
          [121.8725, 31.2968],
          [121.8406, 31.2954],
          [121.8038, 31.3284],
          [121.8018, 31.357],
        ],
      ],
      [
        [
          [121.9752, 31.617],
          [121.9917, 31.4768],
          [121.918, 31.4347],
          [121.8454, 31.4319],
          [121.6088, 31.5069],
          [121.4342, 31.5903],
          [121.3955, 31.5854],
          [121.3722, 31.5532],
          [121.1453, 31.7539],
          [121.1185, 31.7591],
          [121.2003, 31.8351],
          [121.3104, 31.8725],
          [121.385, 31.8335],
          [121.4315, 31.7693],
          [121.4986, 31.7533],
          [121.5933, 31.7046],
          [121.9752, 31.617],
        ],
      ],
      [
        [
          [121.1571, 31.4114],
          [121.1462, 31.4211],
          [121.1643, 31.4272],
          [121.1643, 31.4311],
          [121.1473, 31.4439],
          [121.2304, 31.4774],
          [121.2352, 31.4931],
          [121.2594, 31.4779],
          [121.3435, 31.5121],
          [121.4054, 31.4872],
          [121.5212, 31.3948],
          [121.5989, 31.3746],
          [121.7225, 31.3035],
          [121.9627, 31.0473],
          [121.9985, 30.9],
          [121.994, 30.8631],
          [121.9547, 30.8258],
          [121.9697, 30.7892],
          [121.9437, 30.7771],
          [121.9045, 30.8142],
          [121.6484, 30.8162],
          [121.5172, 30.7754],
          [121.3619, 30.6795],
          [121.2747, 30.6774],
          [121.2715, 30.7327],
          [121.2355, 30.7523],
          [121.218, 30.785],
          [121.1747, 30.772],
          [121.1178, 30.7848],
          [121.1376, 30.8262],
          [121.1177, 30.8353],
          [121.1217, 30.85],
          [121.067, 30.8488],
          [121.0379, 30.8139],
          [121.0144, 30.8358],
          [120.9909, 30.8227],
          [121.0219, 30.8752],
          [120.9904, 30.8956],
          [121.0046, 30.9093],
          [120.9904, 31.0138],
          [120.9522, 31.0303],
          [120.9398, 31.0094],
          [120.911, 31.0106],
          [120.8946, 31.0539],
          [120.9021, 31.0857],
          [120.8569, 31.105],
          [120.8813, 31.1347],
          [121.0185, 31.1341],
          [121.0408, 31.1376],
          [121.0454, 31.154],
          [121.0691, 31.1487],
          [121.0625, 31.2675],
          [121.0821, 31.2715],
          [121.0888, 31.2921],
          [121.0988, 31.2763],
          [121.1054, 31.2737],
          [121.1206, 31.287],
          [121.1616, 31.283],
          [121.1438, 31.3097],
          [121.1299, 31.3026],
          [121.1304, 31.3442],
          [121.1068, 31.3645],
          [121.1484, 31.3854],
          [121.1571, 31.4114],
        ],
      ],
      [
        [
          [121.9433, 31.2155],
          [121.9573, 31.2304],
          [122.0086, 31.221],
          [121.9957, 31.1608],
          [121.9596, 31.1593],
          [121.9433, 31.2155],
        ],
      ],
    ]
    const editable = ref(false)
    return () => (
      <div class="layout">
        <VMap zoom={8.8} center={[121.045332, 31.19884]}>
          <VMapPolygon
            editable={editable.value}
            fillColor="#1791fc"
            fillOpacity={0.5}
            strokeWeight={1}
            strokeColor="#2b8cbe"
            strokeStyle="dashed"
            path={shanghai}
          />
        </VMap>
        <div class="bang-actions">
          <a
            class="action"
            onClick={() => {
              editable.value = !editable.value
            }}
          >
            编辑
          </a>
        </div>
      </div>
    )
  },
})
</script>
<style lang="stylus" scoped>
.layout {
  position: absolute;
  left: 0;
  top 0
  bottom 0px
  right 0

  .bang-actions {
    position: absolute
    right 20px
    bottom 20px

    .action {
      cursor pointer
      padding 8px
      background-color #fff
      border-color blue
    }
  }
}
</style>
